import { Formik, Form, Field, ErrorMessage } from 'formik';
import * as Yup from 'yup';
import styles from './MainFormPage.module.scss';
import { Link, useNavigate } from 'react-router-dom';
import Button from '../../common/components/Button';
import { postPhysicalData } from './api/postPhysicalData';
import { setUserData } from '../../common/auth/authSlice';
import { axiosInstance } from '../../common/utils/axiosInstance';
import { useAppDispatch, useAppSelector } from '../../common/store/hooks';

export type Gender = 'M' | 'F';

export type DailyStepsLevel = 'SEDENTARY' | 'LIGHT' | 'MODERATE' | 'ACTIVE' | 'VERY_ACTIVE';

export type ExperienceLevel = 'BEGINNER' | 'INTERMEDIATE' | 'ADVANCED' | 'EXPERT';

export type Goal = 'weight_loss' | 'muscle_gain' | 'maintain_form' | 'posture_correction' | 'back_pain_relief';

export type WorkoutFormat = 'home' | 'gym';

export interface MainFormValues {
  height: string | number;
  weight: string | number;
  age: string | number;

  gender: Gender;
  health_limitation: string;

  daily_steps_level: DailyStepsLevel;
  experience_level: ExperienceLevel;
  goal: Goal;
  healthy_goal: string[];
  workout_format: WorkoutFormat;

  workouts_per_week: string;

  photos: {
    front_photo: File | null;
    back_photo: File | null;
    left_front_photo: File | null;
    left_incline_photo: File | null;
  };
  agreePrivacy: boolean;
}

// eslint-disable-next-line react-refresh/only-export-components
export const goalsArray = [
  {
    value: 'weight_loss',
    title: 'Похудение',
  },
  {
    value: 'muscle_gain',
    title: 'Набор мышечной массы',
  },
  {
    value: 'maintain_form',
    title: 'Поддержание формы',
  },
];

export const MainFormPage = () => {
  const navigate = useNavigate();
  const { userData } = useAppSelector(state => state.auth);

  const dispatch = useAppDispatch();

  const initialValues: MainFormValues = {
    gender: 'M',
    height: '',
    weight: '',
    age: '',
    goal: 'maintain_form',
    healthy_goal: [],
    workout_format: 'home',
    workouts_per_week: '',
    experience_level: 'BEGINNER',
    health_limitation: '',
    daily_steps_level: 'SEDENTARY',
    agreePrivacy: false,

    photos: {
      front_photo: null,
      back_photo: null,
      left_incline_photo: null,
      left_front_photo: null,
    },
  };

  const validationSchema = Yup.object({
    gender: Yup.string().required('Выберите пол'),
    height: Yup.string()
      .required('Введите рост')
      .matches(/^\d+$/, 'Рост должен содержать только цифры')
      .test('min', 'Рост должен быть больше 100 см', val => !val || parseInt(val) >= 100)
      .test('max', 'Рост должен быть меньше 250 см', val => !val || parseInt(val) <= 250),
    weight: Yup.string()
      .required('Введите вес')
      .matches(/^\d+$/, 'Вес должен содержать только цифры')
      .test('min', 'Вес должен быть больше 30 кг', val => !val || parseInt(val) >= 30)
      .test('max', 'Вес должен быть меньше 300 кг', val => !val || parseInt(val) <= 300),
    age: Yup.string()
      .required('Введите возраст')
      .matches(/^\d+$/, 'Возраст должен содержать только цифры')
      .test('min', 'Возраст должен быть больше 14 лет', val => !val || parseInt(val) >= 14)
      .test('max', 'Возраст должен быть меньше 100 лет', val => !val || parseInt(val) <= 100),
    goal: Yup.string().required('Выберите цель тренировок'),
    workout_format: Yup.string().required('Выберите формат тренировок'),
    workouts_per_week: Yup.string().required('Выберите количество тренировок'),
    experience_level: Yup.string().required('Выберите опыт тренировок'),
    daily_steps_level: Yup.string().required('Выберите уровень активности'),
    agreePrivacy: Yup.boolean().oneOf([true], 'Необходимо принять политику конфиденциальности').required(),
  });

  const handleSubmit = async (values: MainFormValues) => {
    if (userData?.telegram_id) {
      await postPhysicalData(values, userData?.telegram_id);
    }

    const res = await axiosInstance.get(`/users/telegram/${userData?.telegram_id}`, {
      params: { include_relations: true },
    });

    dispatch(setUserData(res.data));

    navigate('/anamnesis-form');
    console.log('post values:', values);
  };

  const handlePhotoUpload = (
    photoType: keyof MainFormValues['photos'],
    event: React.ChangeEvent<HTMLInputElement>,
    setFieldValue: (field: string, value: unknown) => void,
  ) => {
    const file = event.target.files?.[0];
    if (file) {
      if (file.size > 5 * 1024 * 1024) {
        alert('Размер файла не должен превышать 5MB');
        return;
      }

      if (!file.type.startsWith('image/')) {
        alert('Можно загружать только изображения');
        return;
      }

      setFieldValue(`photos.${photoType}`, file);
    }
  };

  const getPhotoPreview = (photo: File | null): string | null => {
    if (photo) {
      return URL.createObjectURL(photo);
    }
    return null;
  };

  return (
    <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={handleSubmit}>
      {({ values, setFieldValue, errors, touched }) => (
        <Form className={styles.trainingForm}>
          {/* Пол */}
          <div className={`${styles.formSection} ${errors.gender && touched.gender ? styles.hasError : ''}`}>
            <label className={styles.formLabel}>Пол</label>
            <div className={styles.radioGroup}>
              <label className={styles.radioLabel}>
                <Field type='radio' name='gender' value='M' />
                <span>Мужской</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='gender' value='F' />
                <span>Женский</span>
              </label>
            </div>
            <ErrorMessage name='gender' component='div' className={styles.error} />
          </div>

          {/* Рост */}
          <div className={`${styles.formSection} ${errors.height && touched.height ? styles.hasError : ''}`}>
            <label className={styles.formLabel}>Рост (см)</label>
            <Field
              type='text'
              name='height'
              placeholder='180'
              className={`${styles.inputField} ${errors.height && touched.height ? styles.hasError : ''}`}
            />
            <ErrorMessage name='height' component='div' className={styles.error} />
          </div>

          {/* Масса тела */}
          <div className={`${styles.formSection} ${errors.weight && touched.weight ? styles.hasError : ''}`}>
            <label className={styles.formLabel}>Масса тела (кг)</label>
            <Field
              type='text'
              name='weight'
              placeholder='70'
              className={`${styles.inputField} ${errors.weight && touched.weight ? styles.hasError : ''}`}
            />
            <ErrorMessage name='weight' component='div' className={styles.error} />
          </div>

          {/* Возраст */}
          <div className={`${styles.formSection} ${errors.age && touched.age ? styles.hasError : ''}`}>
            <label className={styles.formLabel}>Возраст (лет)</label>
            <Field
              type='text'
              name='age'
              placeholder='25'
              className={`${styles.inputField} ${errors.age && touched.age ? styles.hasError : ''}`}
            />
            <ErrorMessage name='age' component='div' className={styles.error} />
          </div>

          {/* Цель тренировок */}
          <div className={`${styles.formSection} ${errors.goal && touched.goal ? styles.hasError : ''}`}>
            <label className={styles.formLabel}>Цель тренировок</label>
            <div className={styles.radioGroup}>
              {goalsArray.map((item, index) => (
                <label key={index} className={styles.radioLabel}>
                  <Field type='radio' name='goal' value={item.value} />
                  <span>{item.title}</span>
                </label>
              ))}
            </div>

            <ErrorMessage name='goal' component='div' className={styles.error} />
          </div>

          {/* Оздоровительные цели  */}
          <div className={`${styles.formSection} ${errors.goal && touched.goal ? styles.hasError : ''}`}>
            <label className={styles.formLabel}>Дополнительные задачи</label>
            <div className={styles.radioGroup}>
              <label className={styles.radioLabel}>
                <Field type='checkbox' name='healthy_goal' value={'posture_correction'} />
                <span>Исправление осанки</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='checkbox' name='healthy_goal' value={'back_pain_relief'} />
                <span>Снятие боли в спине (устранение миофасциального синдрома)</span>
              </label>
            </div>

            <ErrorMessage name='goal' component='div' className={styles.error} />
          </div>

          {/* Формат тренировок */}
          <div
            className={`${styles.formSection} ${errors.workout_format && touched.workout_format ? styles.hasError : ''}`}
          >
            <label className={styles.formLabel}>Формат тренировок</label>
            <div className={styles.radioGroup}>
              <label className={styles.radioLabel}>
                <Field type='radio' name='workout_format' value='home' />
                <span>Тренировка дома</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='workout_format' value='gym' />
                <span>Тренировка в спортзале</span>
              </label>
            </div>
            <ErrorMessage name='workout_format' component='div' className={styles.error} />
          </div>

          {/* Количество тренировок в неделю */}
          <div
            className={`${styles.formSection} ${errors.workouts_per_week && touched.workouts_per_week ? styles.hasError : ''}`}
          >
            <label className={styles.formLabel}>Количество тренировок в неделю</label>
            <div className={styles.radioGroup}>
              <label className={styles.radioLabel}>
                <Field type='radio' name='workouts_per_week' value='2' />
                <span>2</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='workouts_per_week' value='3' />
                <span>3</span>
              </label>
            </div>
            <ErrorMessage name='workouts_per_week' component='div' className={styles.error} />
          </div>

          {/* Опыт тренировок */}
          <div
            className={`${styles.formSection} ${errors.experience_level && touched.experience_level ? styles.hasError : ''}`}
          >
            <label className={styles.formLabel}>Опыт тренировок</label>
            <div className={styles.radioGroup}>
              <label className={styles.radioLabel}>
                <Field type='radio' name='experience_level' value='BEGINNER' />
                <span>до года</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='experience_level' value='INTERMEDIATE' />
                <span>от 1 года до 2-х</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='experience_level' value='ADVANCED' />
                <span>от 2-х до 3-ех лет</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='experience_level' value='EXPERT' />
                <span>более 3-ех лет</span>
              </label>
            </div>
            <ErrorMessage name='experience_level' component='div' className={styles.error} />
          </div>

          {/* Ограничения по здоровью */}
          <div className={styles.formSection}>
            <label className={styles.formLabel}>Ограничения по здоровью (необязательно)</label>
            <Field
              as='textarea'
              name='health_limitation'
              placeholder='Опишите имеющиеся травмы, заболевания или другие ограничения'
              className={styles.textareaField}
              rows={4}
            />
          </div>

          {/* Физическая активность */}
          <div
            className={`${styles.formSection} ${errors.daily_steps_level && touched.daily_steps_level ? styles.hasError : ''}`}
          >
            <label className={styles.formLabel}>Двигательная активность</label>
            <div className={styles.radioGroup}>
              <label className={styles.radioLabel}>
                <Field type='radio' name='daily_steps_level' value='SEDENTARY' />
                <span>До 5000 шагов</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='daily_steps_level' value='LIGHT' />
                <span>5000–8000 шагов</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='daily_steps_level' value='MODERATE' />
                <span>8000–12000 шагов</span>
              </label>
              <label className={styles.radioLabel}>
                <Field type='radio' name='daily_steps_level' value='VERY_ACTIVE' />
                <span>12000 шагов и более</span>
              </label>
            </div>
            <ErrorMessage name='daily_steps_level' component='div' className={styles.error} />
          </div>

          {/* Вставить фото */}
          <div className={styles.formSection}>
            <label className={styles.formLabel}>Вставить фото</label>
            <div className={styles.photoGrid}>
              {[
                {
                  key: 'front_photo',
                  label: 'спереди',
                  code: (
                    <svg width='58' height='140' viewBox='0 0 58 140' fill='none' xmlns='http://www.w3.org/2000/svg'>
                      <path
                        d='M28.9 0L28.8912 0.00918016C28.8948 0.0093116 28.8984 0.00937356 28.9019 0.00950802V0H28.9055C28.9072 2.71663e-05 28.941 0.00138351 28.9734 0.00491794C28.9754 0.00741625 28.977 0.010291 28.979 0.0127866C31.5468 0.124549 33.9704 1.00951 35.7529 2.88355C37.6676 4.89662 38.7773 7.98161 38.6065 12.2742C38.3478 18.7726 35.7073 22.2885 34.0962 23.4356V24.5677C34.1201 24.5791 34.146 24.5922 34.1748 24.6054C34.402 24.7096 34.7394 24.8496 35.1671 25.0185C36.0201 25.3555 37.2051 25.7962 38.5265 26.2756C40.5078 26.9943 42.7872 27.7969 44.6951 28.4598L46.4546 29.068L46.47 29.0732L46.485 29.0795C47.9741 29.7029 50.8827 32.0795 51.3023 36.717C51.7006 41.119 55.8037 64.238 57.8119 75.2796C58.016 76.2002 58.1238 77.6139 57.764 78.8952C57.3939 80.2129 56.5079 81.4327 54.7319 81.7431C53.719 81.9201 52.9008 81.8934 52.2232 81.7096C51.54 81.5243 51.0286 81.1871 50.6213 80.79C50.2222 80.4007 49.9238 79.9535 49.6691 79.5644C49.4028 79.1575 49.1933 78.8306 48.9454 78.5815C48.8572 78.4929 48.7959 78.383 48.7551 78.3008C48.7093 78.2086 48.6649 78.1005 48.6217 77.9828C48.5349 77.7468 48.441 77.4395 48.341 77.075C48.1405 76.3441 47.906 75.3476 47.6476 74.1537C47.1304 71.7638 46.5112 68.5554 45.8663 65.0385C44.823 59.3491 43.7113 52.8406 42.8525 47.6575L41.4506 58.9232L42.6116 69.0879C42.8077 70.1032 43.0909 71.7108 43.3093 73.2704C43.5264 74.8209 43.6896 76.3886 43.6173 77.2602C43.5861 77.637 43.5657 80.1348 43.555 83.9978C43.5444 87.8415 43.5433 92.9995 43.5482 98.6585C43.5578 109.876 43.5906 123.059 43.6183 131.873L47.2799 134.912L47.3288 134.952L47.366 135.004C47.6085 135.339 47.9364 135.886 48.1351 136.455C48.2346 136.74 48.3103 137.054 48.3139 137.363C48.3176 137.675 48.2477 138.014 48.0203 138.3C47.7016 138.7 47.2292 139.058 46.8005 139.333C46.3645 139.613 45.9326 139.835 45.6604 139.957L45.5635 140H36.6825L36.6006 139.97C36.1655 139.814 35.5188 139.494 34.9541 139.024C34.3955 138.559 33.85 137.889 33.7643 137.029C33.6942 136.324 33.6812 134.558 33.6909 132.674C33.7006 130.791 33.7336 128.75 33.7614 127.432L28.9998 83.604L24.2383 127.432C24.266 128.75 24.2991 130.791 24.3088 132.674C24.3185 134.558 24.3054 136.324 24.2354 137.029C24.1496 137.889 23.6042 138.559 23.0456 139.024C22.481 139.494 21.8344 139.814 21.3994 139.97L21.3175 140H12.4365L12.3393 139.957C12.0671 139.835 11.6355 139.613 11.1995 139.333C10.7708 139.058 10.2981 138.7 9.97941 138.3C9.75204 138.014 9.68239 137.675 9.68606 137.363C9.68972 137.054 9.76512 136.74 9.86455 136.455C10.0633 135.886 10.3915 135.339 10.634 135.004L10.6712 134.952L10.7201 134.912L14.3814 131.873C14.4091 123.059 14.4422 109.876 14.4519 98.6585C14.4567 92.9995 14.4556 87.8415 14.445 83.9978C14.4343 80.1348 14.4136 77.637 14.3823 77.2602C14.3101 76.3886 14.4733 74.8209 14.6904 73.2704C14.9091 71.7087 15.1923 70.0987 15.3884 69.0836L16.5491 58.9232L15.1472 47.6575C14.2884 52.8406 13.177 59.3491 12.1337 65.0385C11.4888 68.5554 10.8693 71.7638 10.3521 74.1537C10.0937 75.3476 9.85949 76.3441 9.65897 77.075C9.55896 77.4395 9.46511 77.7468 9.37835 77.9828C9.33507 78.1005 9.29036 78.2086 9.24456 78.3008C9.20374 78.383 9.14278 78.4929 9.05464 78.5815C8.80667 78.8306 8.59696 79.1574 8.33056 79.5644C8.07589 79.9535 7.77779 80.4007 7.3787 80.79C6.9714 81.1872 6.45978 81.5243 5.77651 81.7096C5.09886 81.8934 4.28096 81.92 3.26814 81.7431C1.49203 81.4327 0.606122 80.2129 0.236049 78.8952C-0.123794 77.6139 -0.016014 76.2002 0.188081 75.2796C2.19628 64.238 6.29906 41.1191 6.69736 36.717C7.11696 32.0796 10.0256 29.7029 11.5147 29.0795L11.5297 29.0732L11.5454 29.068C13.6602 28.3411 16.8315 27.2339 19.4731 26.2756C20.7947 25.7962 21.9799 25.3555 22.8329 25.0185C23.2606 24.8496 23.5977 24.7096 23.8249 24.6054C23.8538 24.5922 23.8799 24.5792 23.9038 24.5677V23.4356C22.2927 22.2886 19.6519 18.7727 19.3932 12.2742C19.2235 8.01053 20.1091 4.93155 21.8037 2.91175C23.4402 0.961248 25.7671 0.0747679 28.4089 0.0052458C28.4106 0.00354362 28.4121 0.00170222 28.4138 0H28.9ZM28.5867 1.00883C26.0891 1.04228 24.0072 1.84812 22.5702 3.56092C21.0956 5.31844 20.2309 8.11201 20.395 12.2342C20.6574 18.8247 23.4505 22.0028 24.6628 22.7337L24.9062 22.8802V24.8441C24.9062 25.0075 24.8306 25.1194 24.8005 25.1599C24.7639 25.2091 24.7254 25.2438 24.702 25.2635C24.6538 25.3039 24.6016 25.3366 24.5613 25.3602C24.4764 25.4099 24.3654 25.4649 24.2412 25.5218C23.9889 25.6375 23.6316 25.7853 23.1996 25.9559C22.3332 26.2981 21.1375 26.7429 19.8138 27.2231C17.1739 28.1808 14.009 29.2849 11.8913 30.0129C10.703 30.5153 8.07727 32.593 7.69588 36.8082C7.29224 41.2693 3.1755 64.4568 1.17387 75.4622L1.17191 75.4724L1.16963 75.4825C0.986592 76.297 0.897473 77.5418 1.20063 78.6215C1.49607 79.6735 2.14182 80.5241 3.43978 80.7509C4.34823 80.9097 5.01319 80.8734 5.51546 80.7372C6.01205 80.6025 6.37767 80.3626 6.68039 80.0674C6.99131 79.7641 7.23627 79.4035 7.49324 79.011C7.73374 78.6436 7.99889 78.2245 8.32664 77.8894C8.32992 77.8839 8.33719 77.8721 8.34752 77.8513C8.37107 77.8039 8.40155 77.7329 8.43791 77.634C8.51044 77.4366 8.59559 77.1604 8.69244 76.8074C8.88566 76.1031 9.1157 75.1276 9.3728 73.9396C9.88657 71.5656 10.5036 68.3696 11.1479 64.8558C12.4363 57.8297 13.8307 49.5493 14.7214 44.0677L15.7134 44.0861L17.5587 58.9182L16.3823 69.218L16.38 69.2374L16.3764 69.2567C16.1828 70.2572 15.9002 71.86 15.683 73.4108C15.463 74.9824 15.3202 76.4364 15.3815 77.1763C15.4171 77.6057 15.4369 80.1691 15.4474 83.9948C15.458 87.8404 15.4592 93.0001 15.4543 98.6595C15.4445 109.978 15.411 123.299 15.3831 132.112L15.3825 132.348L11.4103 135.645C11.2117 135.928 10.9594 136.362 10.8105 136.788C10.7318 137.014 10.6904 137.214 10.6885 137.375C10.6866 137.534 10.7225 137.621 10.7622 137.671C10.9782 137.942 11.3412 138.229 11.7395 138.485C12.082 138.705 12.4217 138.883 12.6545 138.993H21.1383C21.4828 138.859 21.9788 138.604 22.406 138.248C22.8722 137.86 23.1902 137.41 23.2381 136.928C23.3017 136.289 23.3165 134.587 23.3067 132.679C23.2969 130.787 23.2633 128.734 23.2355 127.421L23.2349 127.388L28.4177 79.6815L28.9998 79.7454L29.5823 79.6815L34.7615 127.355L34.7648 127.388L34.7641 127.421C34.7363 128.734 34.7031 130.787 34.6933 132.679C34.6835 134.587 34.6983 136.289 34.7619 136.928C34.8098 137.41 35.1276 137.86 35.5936 138.248C36.0209 138.604 36.5172 138.859 36.8617 138.993H45.3452C45.5779 138.883 45.9177 138.705 46.2601 138.485C46.6585 138.229 47.0215 137.942 47.2374 137.671C47.2772 137.621 47.3134 137.534 47.3115 137.375C47.3096 137.214 47.2682 137.014 47.1895 136.788C47.0406 136.362 46.788 135.928 46.5894 135.645L42.6175 132.348L42.6169 132.112C42.589 123.299 42.5555 109.978 42.5457 98.6595C42.5409 93.0001 42.542 87.8404 42.5526 83.9948C42.5631 80.1691 42.5829 77.6057 42.6185 77.1763C42.6798 76.4363 42.5367 74.9824 42.3167 73.4108C42.0995 71.86 41.8172 70.2572 41.6236 69.2567L41.6196 69.2377L41.6177 69.218L40.4413 58.9182L40.4485 58.8586L42.2863 44.0864L43.2786 44.0677C44.1694 49.5494 45.5637 57.83 46.8521 64.8562C47.4964 68.3699 48.1134 71.5656 48.6272 73.9396C48.8843 75.1276 49.114 76.1031 49.3072 76.8074C49.4041 77.1604 49.4896 77.4366 49.5621 77.634C49.5984 77.7328 49.6286 77.8039 49.6522 77.8513C49.6625 77.8721 49.6697 77.8839 49.673 77.8894C50.0008 78.2246 50.2662 78.6435 50.5068 79.011C50.7637 79.4035 51.0084 79.7642 51.3193 80.0674C51.622 80.3626 51.9879 80.6025 52.4845 80.7372C52.9868 80.8734 53.6515 80.9097 54.5599 80.7509C55.8578 80.5242 56.5036 79.6737 56.799 78.6218C57.1023 77.5421 57.0131 76.297 56.83 75.4825L56.8278 75.4724L56.8261 75.4622C54.8245 64.4568 50.7078 41.2693 50.3041 36.8082C49.9228 32.5941 47.2981 30.5166 46.1094 30.0135C43.9917 29.2855 40.8265 28.1809 38.1862 27.2231C36.8625 26.7429 35.6668 26.2981 34.8004 25.9559C34.3685 25.7853 34.0111 25.6375 33.7588 25.5218C33.6347 25.4649 33.5236 25.4099 33.4387 25.3602C33.3984 25.3366 33.3462 25.3039 33.298 25.2635C33.2746 25.2438 33.2358 25.2092 33.1992 25.1599C33.1691 25.1194 33.0938 25.0075 33.0938 24.8441V22.8802L33.3369 22.7337C34.5492 22.0028 37.3426 18.8248 37.605 12.2342C37.7683 8.13361 36.7059 5.34317 35.0281 3.57928C33.3857 1.85253 31.0912 1.0441 28.5867 1.00883Z'
                        fill='white'
                      />
                    </svg>
                  ),
                },
                {
                  key: 'back_photo',
                  label: 'сзади',
                  code: (
                    <svg width='59' height='140' viewBox='0 0 59 140' fill='none' xmlns='http://www.w3.org/2000/svg'>
                      <path
                        d='M29.3983 0L29.3979 0.000327863L29.4003 0H29.4039C29.4056 2.74316e-05 29.4395 0.00148727 29.472 0.00491794C29.4741 0.00753579 29.4758 0.0104996 29.4779 0.0131145C32.1195 0.125962 34.6112 1.02935 36.4297 2.9465C38.3405 4.96107 39.4441 8.02652 39.2721 12.2742C39.0089 18.7726 36.3229 22.2885 34.6841 23.4356V24.5677C34.7083 24.5791 34.7347 24.5922 34.764 24.6054C34.9951 24.7096 35.3383 24.8496 35.7735 25.0185C36.6412 25.3555 37.8466 25.7962 39.1908 26.2756C41.2062 26.9943 43.5249 27.7969 45.4657 28.4598L47.2556 29.068L47.2712 29.0732L47.2864 29.0795C48.8012 29.7029 51.76 32.0795 52.1868 36.717C52.592 41.119 56.7659 64.238 58.8087 75.2796C59.0163 76.2002 59.1259 77.6139 58.7599 78.8952C58.3834 80.2129 57.4822 81.4327 55.6755 81.7431C54.6452 81.9201 53.8129 81.8934 53.1236 81.7096C52.4286 81.5243 51.9084 81.1871 51.4941 80.79C51.0881 80.4007 50.7846 79.9535 50.5255 79.5644C50.2545 79.1575 50.0415 78.8306 49.7892 78.5815C49.6996 78.4929 49.6372 78.383 49.5957 78.3008C49.5491 78.2086 49.504 78.1005 49.46 77.9828C49.3717 77.7468 49.2762 77.4395 49.1745 77.075C48.9705 76.3441 48.732 75.3476 48.4691 74.1537C47.943 71.7638 47.3131 68.5554 46.6571 65.0385C45.5958 59.3491 44.4649 52.8406 43.5913 47.6575L42.1653 58.9232L43.3463 69.0879C43.5458 70.1032 43.8339 71.7108 44.056 73.2704C44.2768 74.8209 44.4429 76.3886 44.3694 77.2602C44.3376 77.637 44.3168 80.1348 44.306 83.9978C44.2952 87.8415 44.294 92.9995 44.299 98.6585C44.3088 109.876 44.3422 123.059 44.3703 131.873L48.095 134.912L48.1448 134.952L48.1827 135.004C48.4293 135.339 48.7629 135.886 48.965 136.455C49.0662 136.74 49.1432 137.054 49.1469 137.363C49.1507 137.675 49.0795 138.014 48.8482 138.3C48.524 138.7 48.0435 139.058 47.6074 139.333C47.1639 139.613 46.7246 139.835 46.4476 139.957L46.349 140H37.315L37.2317 139.97C36.7891 139.814 36.1311 139.494 35.5567 139.024C34.9885 138.559 34.4337 137.889 34.3465 137.029C34.2752 136.324 34.2619 134.558 34.2718 132.674C34.2816 130.791 34.3153 128.75 34.3435 127.432L29.4998 83.604L24.6562 127.432C24.6844 128.75 24.718 130.791 24.7279 132.674C24.7377 134.558 24.7245 136.324 24.6532 137.029C24.566 137.889 24.0111 138.559 23.443 139.024C22.8686 139.494 22.2109 139.814 21.7683 139.97L21.685 140H12.651L12.5521 139.957C12.2751 139.835 11.8361 139.613 11.3926 139.333C10.9565 139.058 10.4756 138.7 10.1515 138.3C9.92018 138.014 9.84932 137.675 9.85306 137.363C9.85678 137.054 9.93349 136.74 10.0346 136.455C10.2368 135.886 10.5707 135.339 10.8173 135.004L10.8552 134.952L10.905 134.912L14.6293 131.873C14.6575 123.059 14.6912 109.876 14.701 98.6585C14.706 92.9995 14.7048 87.8415 14.694 83.9978C14.6832 80.1348 14.6621 77.637 14.6303 77.2602C14.5568 76.3886 14.7228 74.8209 14.9437 73.2704C15.1661 71.7087 15.4542 70.0987 15.6537 69.0836L16.8344 58.9232L15.4084 47.6575C14.5348 52.8406 13.4042 59.3491 12.3429 65.0385C11.6869 68.5554 11.0567 71.7638 10.5305 74.1537C10.2677 75.3476 10.0295 76.3441 9.82551 77.075C9.72377 77.4395 9.6283 77.7468 9.54004 77.9828C9.49602 78.1005 9.45054 78.2086 9.40395 78.3008C9.36242 78.383 9.30041 78.4929 9.21076 78.5815C8.95851 78.8306 8.74518 79.1574 8.47419 79.5644C8.21513 79.9535 7.91189 80.4007 7.50592 80.79C7.0916 81.1872 6.57116 81.5243 5.8761 81.7096C5.18677 81.8934 4.35477 81.92 3.32449 81.7431C1.51776 81.4327 0.616572 80.2129 0.240118 78.8952C-0.125929 77.6139 -0.0162901 76.2002 0.191323 75.2796C2.23415 64.238 6.40766 41.1191 6.81283 36.717C7.23966 32.0796 10.1984 29.7029 11.7132 29.0795L11.7285 29.0732L11.7444 29.068C13.8957 28.3411 17.1217 27.2339 19.8089 26.2756C21.1532 25.7962 22.3588 25.3555 23.2265 25.0185C23.6616 24.8496 24.0045 24.7096 24.2356 24.6054C24.265 24.5922 24.2916 24.5792 24.316 24.5677V23.4356C22.6771 22.2886 19.9907 18.7727 19.7276 12.2742C19.5566 8.05142 20.4388 4.99084 22.1305 2.97011C23.7969 0.979642 26.1841 0.0753887 28.8987 0.0052458C28.9004 0.00354364 28.902 0.0017022 28.9037 0H29.3983ZM29.075 1.00818C26.5118 1.04299 24.3792 1.86449 22.9162 3.61206C21.4426 5.37227 20.5813 8.15172 20.7466 12.2342C21.0136 18.8247 23.8548 22.0028 25.088 22.7337L25.3357 22.8802V24.8441C25.3357 25.0075 25.2587 25.1194 25.2281 25.1599C25.1909 25.2091 25.1517 25.2438 25.1279 25.2635C25.0789 25.3039 25.0257 25.3366 24.9848 25.3602C24.8984 25.4099 24.7854 25.4649 24.6592 25.5218C24.4025 25.6375 24.039 25.7853 23.5996 25.9559C22.7183 26.2981 21.502 26.7429 20.1554 27.2231C17.47 28.1808 14.2505 29.2849 12.0963 30.0129C10.8875 30.5153 8.21654 32.593 7.82857 36.8082C7.41797 41.2693 3.23025 64.4568 1.19411 75.4622L1.19212 75.4724L1.18979 75.4825C1.0036 76.297 0.912947 77.5418 1.22133 78.6215C1.52187 79.6735 2.17875 80.5241 3.49909 80.7509C4.4232 80.9097 5.09962 80.8734 5.61055 80.7372C6.1157 80.6025 6.48763 80.3626 6.79557 80.0674C7.11185 79.7641 7.36103 79.4035 7.62243 79.011C7.86708 78.6436 8.1368 78.2245 8.4702 77.8894C8.47354 77.8839 8.48093 77.8721 8.49145 77.8513C8.5154 77.8039 8.54641 77.7329 8.58339 77.634C8.65717 77.4366 8.74379 77.1604 8.84231 76.8074C9.03886 76.1031 9.27287 75.1276 9.5344 73.9396C10.057 71.5656 10.6847 68.3696 11.3401 64.8558C12.6507 57.8297 14.0691 49.5493 14.9752 44.0677L15.9843 44.0861L17.8614 58.9182L16.6648 69.218L16.6624 69.2374L16.6588 69.2567C16.4618 70.2572 16.1743 71.86 15.9534 73.4108C15.7296 74.9824 15.5843 76.4364 15.6467 77.1763C15.6829 77.6057 15.703 80.1691 15.7138 83.9948C15.7246 87.8404 15.7257 93.0001 15.7207 98.6595C15.7108 109.978 15.6767 123.299 15.6484 132.112L15.6477 132.348L11.607 135.645C11.405 135.928 11.1484 136.362 10.9969 136.788C10.9168 137.014 10.8747 137.214 10.8728 137.375C10.8709 137.534 10.9073 137.621 10.9478 137.671C11.1675 137.942 11.5368 138.229 11.9419 138.485C12.2903 138.705 12.6359 138.883 12.8727 138.993H21.5028C21.8532 138.859 22.3578 138.604 22.7924 138.248C23.2665 137.86 23.59 137.41 23.6388 136.928C23.7035 136.289 23.7185 134.587 23.7085 132.679C23.6986 130.787 23.6644 128.734 23.6361 127.421L23.6355 127.388L28.8466 80.2329C26.2637 80.1907 23.3468 79.9389 22.1723 79.728C21.8953 79.6782 21.7117 79.4161 21.762 79.1424C21.8124 78.8689 22.0778 78.6875 22.3549 78.7372C23.5616 78.9539 26.8714 79.2326 29.5715 79.2326C32.2679 79.2326 35.4683 78.9544 36.7955 78.7359C37.0732 78.6902 37.336 78.8754 37.3824 79.1497C37.4287 79.424 37.2411 79.6835 36.9635 79.7293C35.6687 79.9425 32.76 80.2001 30.1534 80.2352L35.3609 127.355L35.3642 127.388L35.3635 127.421C35.3352 128.734 35.3014 130.787 35.2915 132.679C35.2815 134.587 35.2965 136.289 35.3612 136.928C35.41 137.41 35.7332 137.86 36.2073 138.248C36.6419 138.604 37.1468 138.859 37.4972 138.993H46.127C46.3638 138.883 46.7094 138.705 47.0577 138.485C47.4629 138.229 47.8322 137.942 48.0519 137.671C48.0924 137.621 48.1291 137.534 48.1272 137.375C48.1253 137.214 48.0832 137.014 48.0031 136.788C47.8516 136.362 47.5947 135.928 47.3926 135.645L43.3523 132.348L43.3516 132.112C43.3233 123.299 43.2892 109.978 43.2793 98.6595C43.2743 93.0001 43.2754 87.8404 43.2862 83.9948C43.297 80.1691 43.3171 77.6057 43.3533 77.1763C43.4157 76.4363 43.2701 74.9824 43.0462 73.4108C42.8254 71.86 42.5382 70.2572 42.3412 69.2567L42.3372 69.2377L42.3352 69.218L41.1386 58.9182L41.1459 58.8586L43.0154 44.0864L44.0248 44.0677C44.9309 49.5494 46.3493 57.83 47.6599 64.8562C48.3153 68.3699 48.943 71.5656 49.4656 73.9396C49.7271 75.1276 49.9608 76.1031 50.1574 76.8074C50.2559 77.1604 50.3428 77.4366 50.4166 77.634C50.4536 77.7328 50.4843 77.8039 50.5082 77.8513C50.5187 77.8721 50.5261 77.8839 50.5295 77.8894C50.8629 78.2246 51.1329 78.6435 51.3776 79.011C51.639 79.4035 51.8878 79.7642 52.2041 80.0674C52.5121 80.3626 52.8842 80.6025 53.3895 80.7372C53.9003 80.8734 54.5766 80.9097 55.5006 80.7509C56.8209 80.5242 57.4778 79.6737 57.7783 78.6218C58.0868 77.5421 57.9961 76.297 57.8099 75.4825L57.8076 75.4724L57.8059 75.4622C55.7697 64.4568 51.582 41.2693 51.1714 36.8082C50.7836 32.5941 48.1136 30.5166 46.9044 30.0135C44.7502 29.2855 41.5304 28.1809 38.8446 27.2231C37.498 26.7429 36.2818 26.2981 35.4004 25.9559C34.961 25.7853 34.5975 25.6375 34.3408 25.5218C34.2146 25.4649 34.1016 25.4099 34.0152 25.3602C33.9743 25.3366 33.9211 25.3039 33.8721 25.2635C33.8483 25.2438 33.8088 25.2092 33.7716 25.1599C33.741 25.1194 33.6643 25.0075 33.6643 24.8441V22.8802L33.9116 22.7337C35.1448 22.0028 37.9865 18.8248 38.2534 12.2342C38.4177 8.17633 37.3609 5.4017 35.6855 3.63534C34.0099 1.86879 31.6518 1.04297 29.075 1.00818ZM29.0617 58.2494V38.2734C29.0617 37.9953 29.2899 37.7698 29.5715 37.7698C29.8531 37.7698 30.0814 37.9953 30.0814 38.2734V58.2494C30.0814 58.5275 29.8531 58.753 29.5715 58.753C29.2899 58.753 29.0617 58.5275 29.0617 58.2494Z'
                        fill='white'
                      />
                    </svg>
                  ),
                },
                {
                  key: 'left_front_photo',
                  label: 'левый бок',
                  code: (
                    <svg width='30' height='140' viewBox='0 0 30 140' fill='none' xmlns='http://www.w3.org/2000/svg'>
                      <path
                        d='M4.87616 110.327C4.87616 109.213 4.96184 107.259 5.13244 105.268C5.3023 103.286 5.55979 101.223 5.91188 99.912C5.95913 99.736 5.98331 99.4122 5.96559 98.9264C5.94835 98.4537 5.89368 97.8698 5.80711 97.1983C5.63406 95.8558 5.33836 94.1932 4.98358 92.4278C4.27499 88.9019 3.33617 84.9951 2.68702 82.4717C2.30955 81.0873 1.86268 78.6993 1.7322 75.9909C1.60187 73.2854 1.78551 70.2235 2.69564 67.5116C4.42065 62.3716 3.39321 58.5054 2.73079 57.2907L2.7162 57.264L2.70493 57.2357C1.78326 54.918 0.643284 50.927 0.194532 46.4402C-0.25351 41.9604 -0.0174571 36.9366 1.85951 32.581C3.32777 29.0016 4.92362 26.6144 5.62079 25.7692C5.82202 25.2731 6.06318 24.4311 6.135 23.4823C6.21001 22.4912 6.09827 21.4312 5.61648 20.5338C4.2484 17.986 2.66947 15.0288 2.66945 10.0113C2.66945 7.50479 3.19092 5.17127 4.76907 3.37704C6.34995 1.57971 8.91445 0.409981 12.8105 0.0660095C16.7479 -0.281615 19.7111 0.759964 21.7282 2.80835C23.7318 4.84316 24.7333 7.8022 24.9069 11.1655L24.9076 11.1783V11.1915C24.9076 11.8603 25.2448 12.6899 25.7278 13.4998C26.1426 14.1953 26.6314 14.8216 26.9979 15.2342L27.1471 15.3975L27.2419 15.4983L27.2718 15.633C27.3526 15.9942 27.3295 16.5313 27.0003 17.0101C26.7089 17.4336 26.2218 17.748 25.512 17.8797L24.9089 21.1743C24.9258 21.729 24.7152 22.476 24.0854 23.1079C23.4225 23.773 22.3402 24.2693 20.6861 24.3408C19.3597 24.398 18.6425 24.5179 18.2875 24.6276V28.9301L24.8592 40.6457L24.8711 40.676C25.366 41.905 26.1309 45.8955 25.5849 52.538C24.9085 60.7681 25.5841 75.1399 18.2828 129.445L18.2775 129.485L18.2659 129.524C18.2007 129.739 18.1532 130.107 18.2295 130.46C18.3021 130.797 18.479 131.099 18.8547 131.285C19.3967 131.554 21.1209 132.397 23.0563 133.341L28.5253 136.004L28.5628 136.022L28.5969 136.047C28.8325 136.214 29.169 136.51 29.4516 136.884C29.7292 137.25 30 137.751 30 138.313C30 138.909 29.6984 139.328 29.3528 139.589C29.0223 139.838 28.6385 139.957 28.3735 139.995L28.3377 140H8.41531L8.39012 139.997C8.03558 139.962 7.51413 139.821 7.03347 139.509C6.54329 139.19 6.07756 138.681 5.90691 137.918L5.89464 137.864V129.392C5.55563 123.779 4.87618 112.099 4.87616 110.327ZM3.68793 10.0113C3.68795 14.7723 5.1671 17.5476 6.51495 20.0577C7.11946 21.1835 7.23392 22.4558 7.1505 23.558C7.06696 24.6618 6.7818 25.6425 6.53517 26.2243L6.50467 26.2954L6.45461 26.3547C5.87383 27.0364 4.28082 29.3593 2.80273 32.9626L2.79941 32.9712C1.01318 37.1109 0.768581 41.9465 1.20804 46.3404C1.64576 50.7168 2.75731 54.6059 3.6445 56.8435C4.45026 58.3555 5.45367 62.4919 3.66174 67.8314C2.80651 70.3797 2.62223 73.3035 2.74935 75.9425C2.8684 78.4137 3.25902 80.6033 3.6024 81.9494L3.67036 82.2073L3.67102 82.2109L3.67202 82.2142C4.32419 84.7489 5.2687 88.678 5.9825 92.2299C6.33924 94.0051 6.63991 95.6937 6.81731 97.0699C6.90594 97.7575 6.96462 98.3747 6.98341 98.8899C7.00171 99.3918 6.9844 99.8426 6.89588 100.172C6.56899 101.39 6.3169 103.374 6.14727 105.354C5.97838 107.325 5.89464 109.249 5.89464 110.327C5.89466 112.061 6.57182 123.715 6.91213 129.348L6.91312 129.363V137.747C7.02209 138.172 7.28345 138.463 7.59078 138.662C7.91022 138.87 8.26072 138.964 8.47399 138.988H28.2571C28.3892 138.965 28.5828 138.899 28.7365 138.783C28.8866 138.67 28.9815 138.527 28.9815 138.313C28.9815 138.066 28.8557 137.78 28.6377 137.492C28.4374 137.227 28.1968 137.011 28.035 136.892C25.2479 135.536 19.4825 132.728 18.3992 132.19C17.6886 131.837 17.3561 131.24 17.2335 130.672C17.1198 130.146 17.1808 129.627 17.2776 129.28C24.5701 75.0325 23.8883 60.7466 24.5698 52.4557C25.1055 45.9378 24.3489 42.1375 23.9359 41.079L17.269 29.1932V24.8854C17.1819 24.7674 17.1148 24.6072 17.142 24.404C17.1908 24.0408 17.506 23.8538 17.7146 23.7612C18.1861 23.5519 19.082 23.3972 20.6417 23.3298C22.1109 23.2664 22.924 22.8354 23.3616 22.3963C23.8054 21.951 23.9091 21.4537 23.8901 21.1713L23.8861 21.1088L24.646 16.9567L25.0349 16.9244C25.7381 16.8662 26.0317 16.6247 26.1591 16.4394C26.267 16.2826 26.2974 16.1054 26.2914 15.9662C25.8802 15.5113 25.3232 14.8068 24.8512 14.0155C24.3475 13.1708 23.8952 12.1542 23.8891 11.2106C23.7223 8.00156 22.772 5.3152 21.0001 3.51567C19.2403 1.72847 16.6018 0.746878 12.9007 1.07364C9.1582 1.40406 6.88418 2.51012 5.53625 4.04254C4.1856 5.57811 3.68793 7.62846 3.68793 10.0113Z'
                        fill='white'
                      />
                      <path
                        d='M15.7135 38.5042C15.9943 38.489 16.2345 38.7028 16.2499 38.9817L17.2664 57.4961L20.656 76.1799L20.659 76.1976L20.661 76.2154C20.7529 77.0677 20.6815 78.381 20.16 79.588C19.6302 80.8142 18.6235 81.9483 16.8679 82.3274C15.0991 82.7093 13.7776 82.0444 12.8805 81.0807C12.0043 80.1394 11.5223 78.9101 11.3392 78.0614L11.3362 78.0479L11.3342 78.0341L6.07206 44.8204C6.02835 44.5445 6.21799 44.2856 6.49576 44.2421C6.77356 44.1987 7.03418 44.3871 7.07794 44.663L12.3371 77.8579C12.4949 78.5824 12.9119 79.624 13.6284 80.3938C14.3269 81.1441 15.2972 81.6313 16.6517 81.3389C18.0193 81.0436 18.7948 80.1825 19.2241 79.1889C19.6584 78.1838 19.7249 77.0619 19.6498 76.3399L16.2585 57.6447L16.2529 57.614L16.2512 57.5828L15.2327 39.037C15.2174 38.7581 15.4327 38.5195 15.7135 38.5042Z'
                        fill='white'
                      />
                    </svg>
                  ),
                },
                {
                  key: 'left_incline_photo',
                  label: 'левый бок в наклоне',
                  code: (
                    <svg width='71' height='121' viewBox='0 0 71 121' fill='none' xmlns='http://www.w3.org/2000/svg'>
                      <path
                        d='M31.1163 118.128C31.1163 117.957 30.9875 117.721 30.6677 117.453C30.3671 117.202 29.9959 117.007 29.7528 116.909L29.7302 116.899L29.7085 116.888L19.9805 111.822L20.0327 111.465C21.2068 103.426 23.7304 86.517 24.4073 83.3861C25.0589 80.3718 24.6792 76.2914 24.4027 74.623L24.4001 74.6075L24.3984 74.5923L21.7404 49.0339L15.6214 46.2813C15.3673 46.167 15.2535 45.8673 15.3671 45.6118C15.4808 45.3563 15.7788 45.2418 16.0329 45.3561L22.082 48.077L30.6122 38.5286V27.5725C30.6122 27.2926 30.8379 27.0657 31.1163 27.0657C31.3947 27.0657 31.6203 27.2926 31.6203 27.5725V67.523C31.8896 68.2052 33.0611 69.7348 35.8643 69.9799C37.282 70.1039 38.1914 69.6914 38.7645 69.1742C39.3416 68.6531 39.6117 67.9936 39.6862 67.5593L40.3573 48.6726L40.3589 48.6277L40.3681 48.5839C41.0683 45.317 42.1441 40.3406 43.095 36.0284C43.5705 33.8725 44.0149 31.8815 44.366 30.3529C44.7131 28.841 44.9768 27.7454 45.0872 27.4121C45.2595 26.8923 45.3046 26.1638 45.2759 25.4257C45.2476 24.6985 45.1504 24.0154 45.0712 23.6171L44.9957 23.2377L51.0714 20.1828L51.3273 20.4883C51.7632 21.0088 52.5212 21.8373 53.3658 22.6163C54.2222 23.4062 55.1199 24.0998 55.84 24.4015C57.3373 25.0288 58.3718 24.8489 58.6293 24.745L62.085 22.9163L62.342 23.1192C63.2661 23.8493 63.7651 23.9924 63.9716 23.991C64.0138 23.9907 64.036 23.9841 64.0457 23.9801C64.0469 23.9773 64.0485 23.9725 64.0497 23.9652C64.0833 23.4142 64.2175 22.5491 64.514 21.6591C64.8107 20.7684 65.2869 19.8009 66.035 19.1113C71.9079 12.5401 69.9295 7.20528 68.3737 5.43892L68.3619 5.42539L68.351 5.41121C67.1162 3.79166 63.4784 0.66109 58.8803 1.04633C56.0393 1.28439 53.9704 2.86779 52.4489 4.78525C50.9225 6.70904 49.9787 8.93025 49.3916 10.3641C48.8573 11.6689 47.8804 12.3903 46.8993 12.7544C45.9318 13.1134 44.9455 13.133 44.3144 13.0379C42.6515 12.8157 38.6073 12.5113 35.5995 13.0309C16.3229 18.8924 6.33923 34.109 2.51022 42.8139C1.01208 46.2199 0.800512 50.0087 1.16022 53.3846C1.49739 56.5489 2.33272 59.3144 3.04117 61.0004L3.18096 61.3231L3.18949 61.3423L3.19671 61.362L9.91523 80.453L9.96741 80.6001L9.92737 80.7516C9.42554 82.6595 8.47013 87.2028 8.601 90.2297C8.73496 93.3281 9.55082 104.57 9.9428 109.812L9.94509 109.844L9.94345 109.876C9.88772 110.941 9.82086 112.632 9.80136 114.24C9.78161 115.869 9.8122 117.351 9.93623 118.037C10.0369 118.594 10.4202 119.04 10.9332 119.382C11.4254 119.711 11.9836 119.906 12.3521 119.986H30.4416C30.6028 119.986 30.7508 119.914 30.8876 119.609C31.0339 119.282 31.1163 118.775 31.1163 118.128ZM32.1244 118.128C32.1244 118.832 32.0387 119.507 31.8064 120.026C31.5645 120.565 31.1229 121 30.4416 121H12.2966H12.2464L12.1975 120.99C11.7245 120.895 11.0141 120.654 10.3753 120.227C9.73735 119.801 9.11241 119.149 8.94424 118.219C8.79946 117.418 8.77384 115.831 8.79329 114.228C8.81279 112.62 8.87946 110.933 8.93538 109.856C8.54321 104.611 7.72851 93.3867 7.59391 90.2739C7.4595 87.1655 8.39798 82.6526 8.91372 80.6457L2.25262 61.7178C1.47691 59.9772 0.527771 56.9623 0.158049 53.4925C-0.213098 50.0092 -0.00479421 46.0263 1.58845 42.4041C5.48598 33.5433 15.6568 18.0228 35.3389 12.0512L35.3681 12.0427L35.3983 12.0374C38.5654 11.4835 42.7587 11.8065 44.4559 12.0341L44.4598 12.0347L44.4641 12.0354C44.9531 12.1091 45.7647 12.0949 46.5501 11.8034C47.3219 11.517 48.0531 10.9709 48.4596 9.97803C49.0486 8.53978 50.037 6.19938 51.6607 4.15302C53.2894 2.10033 55.589 0.305094 58.7963 0.0362791C63.8605 -0.388083 67.7858 3.01503 69.1386 4.77898C71.0506 6.96325 72.9726 12.8763 66.7736 19.8023L66.7559 19.8221L66.7362 19.8399C66.1557 20.3653 65.7433 21.1589 65.4696 21.9808C65.1977 22.7969 65.0798 23.5883 65.0541 24.0527L65.0531 24.0702L65.0508 24.0877C65.0255 24.2909 64.9387 24.5229 64.7493 24.708C64.5521 24.9006 64.2847 25.0024 63.9788 25.0047C63.4626 25.0083 62.8118 24.732 61.981 24.1164L59.0729 25.6557L59.0552 25.6653L59.0368 25.6732C58.492 25.908 57.16 26.0528 55.4521 25.3373C54.5593 24.9632 53.553 24.1644 52.6845 23.3634C51.9529 22.6886 51.2856 21.9795 50.8167 21.4439L46.1271 23.8019C46.1955 24.2344 46.2604 24.7966 46.2833 25.3861C46.3134 26.16 46.2743 27.0364 46.0435 27.7329C45.9523 28.008 45.702 29.0399 45.3481 30.5809C44.9981 32.1052 44.5544 34.0929 44.0792 36.2478C43.1329 40.5387 42.0632 45.4885 41.3631 48.7548L40.6927 67.6309L40.6917 67.6616L40.6868 67.6919C40.5868 68.3282 40.2183 69.2239 39.4378 69.9285C38.6415 70.6473 37.4507 71.136 35.777 70.9897C32.4988 70.703 30.9859 68.822 30.6382 67.7731L30.6122 67.6949V40.0455L22.736 48.8617L25.3999 74.4765C25.6833 76.2 26.0821 80.411 25.3924 83.6012C24.7348 86.6429 22.2811 103.058 21.0825 111.255L30.1545 115.979C30.4706 116.109 30.9246 116.349 31.3128 116.674C31.6931 116.992 32.1244 117.488 32.1244 118.128Z'
                        fill='white'
                      />
                    </svg>
                  ),
                },
              ].map(item => {
                const photoKey = item.key as keyof MainFormValues['photos'];
                const preview = getPhotoPreview(values.photos[photoKey]);

                return (
                  <div key={item.key}>
                    <div className={styles.photoPlaceholder}>
                      <input
                        type='file'
                        id={`photo-${item.key}`}
                        accept='image/*'
                        style={{ display: 'none' }}
                        onChange={e => handlePhotoUpload(photoKey, e, setFieldValue)}
                      />
                      <label htmlFor={`photo-${item.key}`} className={styles.photoLabel}>
                        {preview ? (
                          <img src={preview} alt={item.label} className={styles.photoPreview} />
                        ) : (
                          <>{item.code}</>
                        )}
                      </label>
                    </div>
                    <span className={styles.photoLabelText}>{item.label}</span>
                  </div>
                );
              })}
            </div>
          </div>

          {/* Согласие с политикой конфиденциальности */}
          <div
            className={`${styles.formSection} ${errors.agreePrivacy && touched.agreePrivacy ? styles.hasError : ''}`}
          >
            <label className={styles.radioLabel} style={{ background: '#1e1e1e', boxShadow: 'none' }}>
              <Field type='checkbox' name='agreePrivacy' />
              <span>
                Я даю согласие на обработку моих персональных данных в соответствии с{' '}
                <Link to='/privacy' style={{ textDecoration: 'underline' }}>
                  Политикой конфиденциальности
                </Link>
              </span>
            </label>

            <ErrorMessage name='agreePrivacy' component='div' className={styles.error} />
          </div>

          <Button type='submit'>Далее</Button>
        </Form>
      )}
    </Formik>
  );
};
